# Garmin Test App

## Требования

- Установленный Connect IQ SDK.
- Файл ключа разработчика для подписи `.prg`.
- Наличие в проекте входных артефактов:
  - `manifest.xml`
  - папка `source/`
  - папка `resources/`

## Переменные окружения

Перед сборкой экспортируйте переменные:

```bash
export CIQ_SDK_HOME="/path/to/connectiq-sdk"
export CIQ_DEVELOPER_KEY="/path/to/developer_key.der"
```

Скрипты проверяют наличие этих переменных и существование файлов.

## Сборка `.prg`

Базовая сборка (по умолчанию target = `vivoactive6`, выход = `build/HelloGarmin.prg`):

```bash
./scripts/build.sh
```

Сборка с явным target (например, vívoactive 6):

```bash
./scripts/build.sh --target vivoactive6
```

Сборка с пользовательским выходным файлом:

```bash
./scripts/build.sh --target vivoactive6 --output build/MyApp.prg
```

## Упаковка/подпись отдельным шагом

Если нужен отдельный шаг упаковки/подписи, используйте:

```bash
./scripts/package.sh --target vivoactive6
```

`package.sh` — это обёртка над `build.sh`, которая выполняет сборку и подпись с теми же аргументами.

## Установка на часы

Доступный способ зависит от вашей среды и устройства:

1. **Garmin Express (USB):**
   - Подключите часы к компьютеру.
   - Откройте устройство как накопитель (или через Garmin Express).
   - Скопируйте `.prg` в папку приложений Connect IQ на устройстве.

2. **Connect IQ / Mobile (если поддерживается каналом разработки):**
   - Используйте стандартный процесс установки через Connect IQ экосистему для dev-сборок.

3. **Side-load (ручная установка):**
   - Подключите устройство по USB.
   - Скопируйте `build/HelloGarmin.prg` в каталог приложений устройства (обычно внутри `GARMIN/APPS`).

> Точный путь может отличаться у разных моделей/прошивок. Ориентируйтесь на структуру каталогов вашего устройства.

## Проверка запуска приложения

1. Отключите часы от компьютера безопасно.
2. На часах откройте список приложений/виджетов.
3. Найдите установленное приложение и запустите его.
4. Убедитесь, что приложение открывается без ошибки и отображает ожидаемый экран.
